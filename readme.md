There are 4 API's

Step - 1 CREATE Database

Firstly create a database in postgres with name splitwise set password "qwerty"

Add table "Users" with Column (id <int>,email <char_var>,name ,password ,mobile_number <int>, login_token <char_var>, date_created <datetime_without_time_zone>)

Add table "Transactions" with Column (id <int>,name <char_var>,discription <char_var>,paid_by <int> (foreign key Users.id), amount <int>)

Add table "ToPay" with column (id <int>,user_to_pay_id <int> (foreign key Users.id), paying_user_id <int> (foreign key Users.id), amount <int>, txn_id <int> (foreign key Transactions.id))

1 - Signup APi (to add a user into th db)

endpoint /signup - Method - POST

payload - {"name" : "A" ,"email" : "A@email.com", "password" : "1234" , "mobile" : 123456}


2 - Login Api (to login and view personal balance)

endpoint /login - Method - POST

payload - {"email" : "A@email.com", "password" : "1234"}


THE BELOW APIs REQUIRES TOKEN in HEADER GENERATED BY LOGIN/SIGNUP API

header key - > x-access-token

value - > token generated 

(Ex - eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MX0.gOtPOuHpujdkO-basAhTWt9R4Pp2reJnJ4w6CKt89ko)


3 - Txn Api (to add a transaction)

endpoint /transaction - Method - POST

-------EQUAL CASE-------

payload Example - {"name" : "txn name", "description":"desc", "paid_by" : 1, "amount" : 1000, "split_equal" : [1,2,3,4], "expense" : "equal"}

Note :paid_by is the user_id, split_equal is list of user to split between and also make sure to give key "expense" as "equal".

-------EXACT CASE-------

payload Example - {"name" : "txn name", "description":"desc", "paid_by" : 1, "amount" : 1000, "split_custom" : {"2":370, "3":880}, "expense" : "exact"}

Note :paid_by is the user_id, split_custom is dict type of user and their expense to split between and also make sure to give key "expense" as "exact".

-------PERCENTAGE CASE-------

payload Example - {"name" : "txn name", "description":"desc", "paid_by" : 1, "amount" : 1200, "split_custom" : {"2":20, "3":20}, "expense" : "percent"}

Note :paid_by is the user_id, split_custom is dict type of user and their expense percentage to split between and also make sure to give key "expense" as "percent".


4- BALANCE API (to get balance of logged in user)
endpoint - /balance - METHOD - GET


Note : The response of this will be the resultant balance of the currently logged in user who have direct contact of paying or receiving payment.
